---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.13.0
  name: obtenantbackuppolicies.oceanbase.oceanbase.com
spec:
  group: oceanbase.oceanbase.com
  names:
    kind: OBTenantBackupPolicy
    listKind: OBTenantBackupPolicyList
    plural: obtenantbackuppolicies
    singular: obtenantbackuppolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.status
      name: Status
      type: string
    - jsonPath: .spec.tenantName
      name: TenantName
      type: string
    - jsonPath: .status.nextFull
      name: NextFull
      type: string
    - jsonPath: .status.nextIncremental
      name: NextIncremental
      type: string
    - jsonPath: .spec.dataBackup.fullCrontab
      name: FullCrontab
      type: string
    - jsonPath: .spec.dataBackup.incrementalCrontab
      name: IncrementalCrontab
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: OBTenantBackupPolicy is the Schema for the obtenantbackuppolicies
          API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: OBTenantBackupPolicySpec defines the desired state of OBTenantBackupPolicy
            properties:
              dataBackup:
                description: DataBackupConfig contains the configuration for data
                  backup progress
                properties:
                  destination:
                    properties:
                      path:
                        type: string
                      type:
                        type: string
                    type: object
                  fullCrontab:
                    type: string
                  incrementalCrontab:
                    type: string
                required:
                - destination
                type: object
              dataClean:
                properties:
                  disabled:
                    type: string
                  name:
                    type: string
                  recoveryWindow:
                    type: string
                type: object
              logArchive:
                description: LogArchiveConfig contains the configuration for log archive
                  progress
                properties:
                  binding:
                    type: string
                  concurrency:
                    type: integer
                  destDisabled:
                    type: boolean
                  destination:
                    properties:
                      path:
                        type: string
                      type:
                        type: string
                    type: object
                  switchPieceInterval:
                    type: string
                required:
                - destination
                - switchPieceInterval
                type: object
              tenantName:
                type: string
            required:
            - dataBackup
            - tenantName
            type: object
          status:
            description: OBTenantBackupPolicyStatus defines the observed state of
              OBTenantBackupPolicy
            properties:
              logArchiveDestDisabled:
                type: boolean
              nextFull:
                type: string
              nextIncremental:
                type: string
              operationContext:
                properties:
                  idx:
                    type: integer
                  name:
                    type: string
                  targetStatus:
                    type: string
                  task:
                    type: string
                  taskId:
                    type: string
                  taskStatus:
                    type: string
                  tasks:
                    items:
                      type: string
                    type: array
                required:
                - idx
                - name
                - targetStatus
                - task
                - taskId
                - taskStatus
                - tasks
                type: object
              status:
                type: string
              tenantInfo:
                description: OBTenant is the tenant model of OB system
                properties:
                  arbitration_service_status:
                    type: string
                  compatibility_mode:
                    type: string
                  create_time:
                    type: string
                  in_recyclebin:
                    type: string
                  locality:
                    type: string
                  locked:
                    type: string
                  log_mode:
                    type: string
                  modify_time:
                    type: string
                  previous_locality:
                    type: string
                  primary_zone:
                    type: string
                  readable_scn:
                    format: int64
                    type: integer
                  recovery_until_scn:
                    format: int64
                    type: integer
                  replayable_scn:
                    format: int64
                    type: integer
                  status:
                    type: string
                  sync_scn:
                    format: int64
                    type: integer
                  tenant_id:
                    format: int64
                    type: integer
                  tenant_name:
                    type: string
                  tenant_role:
                    type: string
                  tenant_type:
                    type: string
                required:
                - arbitration_service_status
                - compatibility_mode
                - create_time
                - in_recyclebin
                - locality
                - locked
                - log_mode
                - modify_time
                - previous_locality
                - primary_zone
                - readable_scn
                - recovery_until_scn
                - replayable_scn
                - status
                - sync_scn
                - tenant_id
                - tenant_name
                - tenant_role
                - tenant_type
                type: object
            required:
            - logArchiveDestDisabled
            - status
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
