"use strict";(self.webpackChunkdocsite=self.webpackChunkdocsite||[]).push([[4731],{7692:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>i});var o=r(4848),s=r(8453);const a={sidebar_position:2},t="\u4ece Zone \u4e2d\u51cf\u5c11 OBServer \u8282\u70b9",l={id:"manual/ob-operator-user-guide/cluster-management-of-ob-operator/server-management/delete-server",title:"\u4ece Zone \u4e2d\u51cf\u5c11 OBServer \u8282\u70b9",description:"\u672c\u8282\u4e3b\u8981\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7\u4ece Zone \u5185\u51cf\u5c11 OBServer \u8282\u70b9\u7684\u65b9\u5f0f\u8fdb\u884c\u96c6\u7fa4\u7684\u7f29\u5bb9\u3002",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/manual/500.ob-operator-user-guide/100.cluster-management-of-ob-operator/400.server-management/200.delete-server.md",sourceDirName:"manual/500.ob-operator-user-guide/100.cluster-management-of-ob-operator/400.server-management",slug:"/manual/ob-operator-user-guide/cluster-management-of-ob-operator/server-management/delete-server",permalink:"/ob-operator/zh-Hans/docs/manual/ob-operator-user-guide/cluster-management-of-ob-operator/server-management/delete-server",draft:!1,unlisted:!1,editUrl:"https://github.com/oceanbase/ob-operator/tree/master/docsite/docs/manual/500.ob-operator-user-guide/100.cluster-management-of-ob-operator/400.server-management/200.delete-server.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"manualSidebar",previous:{title:"\u5411 Zone \u5185\u6dfb\u52a0 OBServer \u8282\u70b9",permalink:"/ob-operator/zh-Hans/docs/manual/ob-operator-user-guide/cluster-management-of-ob-operator/server-management/add-server"},next:{title:"\u96c6\u7fa4\u5347\u7ea7",permalink:"/ob-operator/zh-Hans/docs/manual/ob-operator-user-guide/cluster-management-of-ob-operator/upgrade-cluster-of-ob-operator"}},c={},i=[{value:"\u524d\u63d0\u6761\u4ef6",id:"\u524d\u63d0\u6761\u4ef6",level:2},{value:"\u64cd\u4f5c\u6b65\u9aa4",id:"\u64cd\u4f5c\u6b65\u9aa4",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"\u4ece-zone-\u4e2d\u51cf\u5c11-observer-\u8282\u70b9",children:"\u4ece Zone \u4e2d\u51cf\u5c11 OBServer \u8282\u70b9"}),"\n",(0,o.jsx)(n.p,{children:"\u672c\u8282\u4e3b\u8981\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7\u4ece Zone \u5185\u51cf\u5c11 OBServer \u8282\u70b9\u7684\u65b9\u5f0f\u8fdb\u884c\u96c6\u7fa4\u7684\u7f29\u5bb9\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"\u524d\u63d0\u6761\u4ef6",children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"OceanBase \u96c6\u7fa4\u76ee\u524d\u5904\u4e8e running \u72b6\u6001\u3002"}),"\n",(0,o.jsx)(n.li,{children:"observer \u5220\u9664\u4e4b\u540e\u4ecd\u6709\u8db3\u591f\u7684\u8d44\u6e90\u8d1f\u8f7d\u79df\u6237\u7684 unit\u3002"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u64cd\u4f5c\u6b65\u9aa4",children:"\u64cd\u4f5c\u6b65\u9aa4"}),"\n",(0,o.jsx)(n.p,{children:"\u5047\u8bbe\u5f53\u524d\u96c6\u7fa4\u4e2d\u5171\u5305\u542b 3 \u4e2a\u53ef\u7528\u533a zone1\u3001zone2 \u548c zone3\uff0c\u6bcf\u4e2a Zone \u5185\u5305\u542b 2 \u4e2a OBServer \u8282\u70b9\u3002\u73b0\u5728\u5e0c\u671b\u4ece\u6bcf\u4e2a Zone \u51cf\u5c11 1 \u53f0 OBServer \u8282\u70b9\u6765\u7f29\u5bb9\uff0c\u7f29\u5bb9\u540e\uff0c3 \u4e2a Zone \u5185\u5747\u5305\u542b 1 \u53f0 OBServer \u8282\u70b9\u3002"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 ",(0,o.jsx)(n.code,{children:"obcluster.yaml"}),"\uff0c\u6bcf\u4e2a zone \u5bf9\u5e94\u7684 replicas \u7531 2 \u4fee\u6539\u4e3a 1\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"# \u793a\u4f8b: OB \u96c6\u7fa4\u4e2d\u6709 3 \u4e2a zone\ntopology:\n  - zone: zone1\n    replica: 2\n  - zone: zone2\n    replica: 2\n  - zone: zone3\n    replica: 2\n\n# \u4ece\u6bcf\u4e2a zone \u5185\u51cf\u5c11 1 \u4e2a observer\ntopology:\n  - zone: zone1\n    replica: 1\n  - zone: zone2\n    replica: 1\n  - zone: zone3\n    replica: 1  \n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u540e\uff0c\u9700\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u4f7f\u6539\u52a8\u751f\u6548\u3002"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"kubectl apply -f obcluster.yaml\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u89c2\u5bdf CR \u7684\u72b6\u6001\u7b49\u5f85\u64cd\u4f5c\u6210\u529f\u3002\n\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\uff0c\u53ef\u4ee5\u83b7\u53d6 OceanBase \u96c6\u7fa4\u8d44\u6e90\u7684\u72b6\u6001"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"kubectl get obclusters.oceanbase.oceanbase.com test -n oceanbase -o yaml\n\n# obcluster desired output, only displays status here\nstatus:\n  image: oceanbase/oceanbase-cloud-native:4.2.0.0-101000032023091319\n  obzones:\n  - status: running\n    zone: obcluster-1-zone1\n  - status: running\n    zone: obcluster-1-zone2\n  - status: running\n    zone: obcluster-1-zone3\n  parameters: []\n  status: running\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\uff0c\u53ef\u4ee5\u83b7\u53d6 observer \u7684\u72b6\u6001, \u53ef\u4ee5\u89c2\u5bdf observer \u6570\u91cf\u5339\u914d\uff0c\u5e76\u4e14\u90fd\u662f running \u72b6\u6001"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"kubectl get observers.oceanbase.oceanbase.com -n oceanbase\n\n# observer desired output, only displays status here\noceanbase     obcluster-1-zone1-7b0e9f7e7675   10.42.0.241   running   7h48m\noceanbase     obcluster-1-zone2-67f3d1fe0b40   10.42.0.251   running   28m\noceanbase     obcluster-1-zone3-914ef208ac46   10.42.0.252   running   28m\n"})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var o=r(6540);const s={},a=o.createContext(s);function t(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);